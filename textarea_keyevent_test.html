<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<!--
1. keyevent - textarea 태그에 키 입력시마다 
	h1, h2 태그에 x 글자 남았습니다 출력한다.
	남은 글자수 0 보다 크면 h1, h2태그 파랑색으로 출력
	이 때 남은 글자수 0이면 h1, h2태그 빨간색으로 출력, textarea에 더이상 입력 불가능하도록 처리한다. readonly
2. 	clickevent - 새로 입력 버튼 클릭시 
       textarea 입력내용 삭제하고
       textarea readonly 속성 삭제한다
-->
<h1 id="count" style="display: inline;">10</h1>
<h2 id="concount" style="display: inline;">글자입력 가능합니다.</h2><br>
<textarea rows="5" cols="100" id="text">

</textarea>
<input type="button" value="새로입력" id="newinput">

<script>
/* let textarea = document.getElementById("text");
let h1 = document.getElementById("count");
let h2 = document.getElementById("concount");
let count = textarea.cols;
textarea.addEventListener('keydown',function(){
	if (textarea='text')
	{count--
		if(count>0){
			h1.innerHTML = `${count}`;
			h1.style.color="blue";
			h2.innerHTML = `글자 남았습니다.<br>`;
			h2.style.color="blue";
			}
		else if(count<=0){
			h1.innerHTML = `${count}`;
			h1.style.color="red";
			h2.innerHTML = `글자 남았습니다.<br>`;
			h2.style.color="red";
			textarea.readonly="readonly";
		}	
	}
	
}); */

//답지
let text = document.getElementById("text");
let newinput = document.getElementById("newinput");
let h12 = document.querySelectorAll("h1,h2");//배열유사 //어떻게 쓰든 선택 겟이나 쿼리나
let maxLength = h12[0].innerHTML;
text.addEventListener('keydown',function(){
	let remainLength = maxLength - text.value.length;
	h12[0].innerHTML = remainLength;
	h12[1].innerHTML = `글자 남았습니다`;
	if(remainLength == 0){
		h12[0].style.color = "red";
		h12[1].style.color = "red";
		//text.setAttribute("readonly","readonly");
		text.readOnly="readonly";
	}
	else{
		h12[0].style.color = "blue";
		h12[1].style.color = "blue";
	}
});
	newinput.addEventListener('click', function(){
		//text.removeAttribute("readonly");
		text.readOnly=false;
		h12[0].style.color = "black";
		h12[1].style.color = "black";
		text.value = "";
		h12[0].innerHTML= maxLength;
		h12[1].innerHTML = `글자 입력 가능합니다`;	
});
</script>
























</body>
</html>